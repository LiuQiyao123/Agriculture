# 深渡智慧农业平台 - 需求文档 (V2.1) - 重构版

## 1. 项目概述

- **项目名称：** 深渡智慧农业平台
- **目标：** 开发一个纯前端、无后端的Web应用Demo，用于展示平台的核心功能和价值。
- **技术栈约束：** 任何前端框架（如Vue, React, Angular），使用静态JSON文件或在代码中定义的JS对象作为假数据源。无需任何后端API调用。
- **核心用户：** 地方政府农业部门的决策者、技术分析员及基层数据采集员。

## 2. 全局UI及通用功能

### 2.1 视觉风格
- **主题：** "数据可视化驾驶舱风格"。整体为深色主题，营造专业、沉浸的科技感。
- **主背景色：** 采用深邃的星空蓝或黑蓝背景（如 `#0a1929`），可带有不易察觉的网格或粒子动效背景。
- **面板容器：** 使用带有自定义边框和"辉光"效果的半透明面板（背景色如 `rgba(21, 38, 62, 0.6)`，边框色如 `rgba(0, 170, 255, 0.3)`）。
- **主色调：** 以高饱和度的"科技蓝" (`#00aaff`) 和"科技绿" (`#00ff7f`) 作为图表、高亮和关键数据的主色。
- **字体颜色：** 主要文本使用灰白色（如 `#c0c4cc`），标题和关键数字可使用主色调进行高亮。

### 2.2 顶部导航栏
- **左侧: Logo 与系统名称**
  - **Logo:** 显示项目Logo，尺寸约为 32x32px。
  - **系统名称:** "深渡智慧农业平台"，使用有科技感的字体，具有微弱的发光效果。点击Logo或名称可返回"综合态势大屏"首页。
- **中间: 一级导航菜单**
  - **样式:** 横向菜单，文字清晰。当前选中的菜单项需要高亮（如底部出现发光线条或文字变色）。
  - **菜单项:** `综合态势`、`数据资源`、`智能分析`、`农户管理`、`系统管理`。
- **右侧: 操作中心**
  - **通知中心:**
    - **图标:** 铃铛图标，使用 `el-badge` 在右上角显示未读消息数量（例如 `5`）。
    - **交互:** 点击图标，使用 `el-popover` 弹出一个宽度约300px的下拉面板。
    - **面板内容:** 滚动消息列表，每条消息包含 `类型图标`、`消息标题` 和 `时间`。例如："[病害] 城关镇发生稻飞虱病害预警 - 5分钟前"。点击消息可导航至对应的分析页面。底部有"查看全部"链接。
  - **用户中心:**
    - **显示:** 用户头像和用户名（如"王分析员"）。
    - **交互:** 点击后，使用 `el-dropdown` 弹出下拉菜单。
    - **菜单项:** `个人中心`、`修改密码`、`系统设置`、`退出登录` (点击后模拟返回登录页)。

### 2.3 下拉二级菜单
- **触发:** 当点击一级导航中含有子模块的菜单项时（如"智能分析"），页面左侧滑出或固定显示二级菜单下拉栏。
- **功能:** 列出所属一级模块下的所有子功能页面链接，如"墒情监测与旱情分析"、"作物长势遥感监测"等。当前所在的子页面链接高亮。

## 3. 模块化功能需求

---

### 3.1 综合态势大屏 (深度重构版)

> **[页面目标]** 摒弃抽象评分，通过具体、可量化的核心指标与多维分析预测面板，为管理者提供一个能洞察全局、诊断细节、预见未来的实战型指挥中心。

#### 1. 顶部核心指标卡片区

**设计原则：** 每一个指标都应是一个由AI模型驱动的、具有业务判断价值的核心结果，而非简单的统计。采用**趋势比较版**，每个指标均附带动态的趋势变化说明。

**【指标卡片备选库 (建议选择4-8个)】**

| 指标名称 | 数据构成与解读 | 示例值 |
|---------|---------------|--------|
| **1. 全域产量预测**(核心预测) | 融合长势、未来气象和历史数据，动态预测全县当季主粮作物的**最终产量**。 | **15.8 万吨** <span style="color:lime">▲ 2.1% (较上周预测)</span> |
| **2. 重大病害影响面积**(风险预警) | 当前发生的最严重病害的预估影响面积，选择影响面积最大的单一病害进行展示。 | **1.5 万亩** <span style="color:red">稻飞虱影响</span> |
| **3. 旱情预警地块数**(风险预警) | 预测未来7日内可能达到轻旱以上等级的地块数量。 | **235 个地块** <span style="color:red">旱情预警</span> |
| **4. 农机作业饱和度**(生产要素) | 统计大型农机（已接入平台）的实时作业率，反映农业生产的**繁忙程度与资源利用率**。 | **85%** <span style="color:gray">(120/142台作业中)</span> |
| **5. 设备在线率**(数字化基础) | 全县农业物联网设备的实时在线率，反映数字农业基础设施运行状态。 | **98.5%** <span style="color:lime">874台在线</span> |
| **6. 今日农事活动**(生产动态) | 当日全县上报的农事活动总数，反映农业生产活跃度。 | **128 次** <span style="color:lime">较昨日 +15</span> |
| **7. 本月红色预警**(风险统计) | 本月累计发布的红色等级预警次数，反映重大风险发生频率。 | **4 次** <span style="color:orange">较上月 -2</span> |
| **8. 当季总产值预估**(经济效益) | 基于产量预测和市场价格预测，估算全县当季农业总产值。 | **¥3.85 亿元** <span style="color:lime">▲ 8.2% (同比)</span> |

#### 2. 中央GIS一张图

**设计原则：** 融合**主题视图**、**多维图层**与**时空预测**能力，使其成为一个可交互的、多功能的时空数据分析器。

**核心功能1: 主题视图切换 (Theme Views)**
- **描述:** 地图左上角提供下拉菜单，一键切换地图的业务主题。
- **预设主题:** `生产要素与长势视图`、`农业金融风险视图`、`数字乡村治理视图`。

**核心功能2: 动态图层控制 (Layer Controls)**
- **描述:** 每个主题视图下，都提供独立的、可勾选的图层控制面板。
- **示例 (生产视图下):** `地块边界`、`在线设备`、`作物长势(NDVI)`、`土壤墒情`、`病虫害事件点`。

**核心功能3: 时空回溯与预测 (Spatio-temporal & Predictive Control)**
- **描述:** 地图底部提供时间轴滑块，包含"过去"和"未来"两个区域。
- **交互:** 当用户选择时空敏感图层（如`土壤墒情`）后：
  - **拖动到过去:** 地图渲染历史某天的墒情分布快照。
  - **拖动到未来 (+7天):** 地图**动态渲染出AI模型预测的未来7日旱情发展趋势**，高风险区域以闪烁或高亮形式凸显，将"预测"能力可视化。

**▼ 详细功能拆解**
1.  地图基底
    - 使用 MapTiler 卫星 + 中国中文标注自定义样式；默认视图中心定位到山东省济南，`zoom = 6.5`。
    - 支持鼠标拖拽、滚轮缩放、双击放大/Shift+双击缩小，保留旋转与倾斜手势。
    - 右下角显示版权 `© MapTiler | © OpenStreetMap`，字体 `10px`, 透明度 60%。

2.  地块边界渲染
    - 数据来源：`static/geojson/plots.json`，包含全县所有地块 Polygon，字段：`id`, `name`, `crop`, `areaMu`, `owner`, `phone`。
    - 默认填充透明，仅在鼠标悬停时高亮边框 `#00aaff`，宽 2 px。

3.  在线设备流光效果
    - 数据来源：`static/json/devices.json`，字段：`id`, `lng`, `lat`, `type`, `status`(online/offline/alarm)。
    - 渲染：每 5 s 执行一次粒子拉伸动画，从设备点扩散出一条 `#00aaff` 到地图中心的光带，持续 1 s 淡出。
    - 性能：点数 < 500 时逐点渲染；≥ 500 时启用 CanvasLayer 批量渲染。

4.  地块信息弹窗
    - 触发：点击 Polygon。
    - 样式：深色半透明卡片，宽 280 px，带 `0 0 8px #00aaff` 外发光。
    - 内容字段：
        | 字段 | 说明 |
        |------|------|
        | 地块名称 | `name` |
        | 作物类型 | `crop` （枚举：水稻/小麦/玉米/蔬菜/其它）|
        | 面积 | `areaMu` (亩) |
        | 地力指数 | `soilScore`，进度条样式，优>90 良>70 中>50 差≤50 |
        | 实时墒情 | `soilMoisture%`，蓝色文字高亮 |
        | NDVI值 | `ndvi`，绿色文字高亮 |
        | 负责人 | `owner` |
        | 联系电话 | `phone`，可点击 `tel:` |
    - 底部按钮：`进入分析`，点击后路由到 `/analysis/plot/:id`。

5.  图层控制面板
    - 位置：地图底部居中，`bottom:20px; left:50%; transform:translateX(-50%)`。
    - 样式：半透明深色圆角盒子，内边距 `10 px 20 px`，间距 `15 px`。
    - 选项：
        - `地块边界`（默认开）
        - `在线设备`（默认开）
        - `NDVI 热力图`（默认关，点击后加载 `static/tiles/ndvi/{z}/{x}/{y}.png` 瓦片图层，0.6 透明度）

6.  性能与容错
    - 地块 > 2000 时，简化为 Centroid 点 + 凸包悬浮提示，缩放至 `zoom ≥ 12` 再按 Polygon 渲染。
    - GeoJSON/JSON 均采用 gzip 压缩后按需懒加载，确保首屏地图初始化 < 800 ms。
    - 若设备数据拉取失败，显示 Toast "设备数据加载失败，将仅显示地块边界"。

#### 3. 左右两侧分析面板

**设计原则：** 严格遵循"**左侧全局、右侧聚焦**"的交互范式。左侧始终展示全域宏观分析，右侧在用户选择地块后，动态展示该地块的微观诊断报告。

**左侧全域分析面板 (全局视角)**

**【分析面板备选库 (建议选择2-3个组合)】**

**备选A: 关键风险预测与告警**
- **定位:** 替代原有的"关键预警通知"和"预警趋势"。
- **内容:**
  - **上半部分 - 实时告警列表:** 滚动展示已发生的、需要立即关注的TOP 5告警事件（设备告警、灾情上报等）。
  - **下半部分 - 未来风险看板:** AI每日生成，用雷达图或条形图展示未来一周内，`旱灾`、`涝灾`、`病害`、`虫害`、`风灾`等几类主要风险的**概率预测**，并附AI文字解读。

**备选B: 全域作物长势诊断**
- **定位:** 替代原有的"农作物种植结构"。
- **内容:**
  - **长势分级占比:** 柱状图展示全县作物长势评定为"优、良、中、差"的**耕地面积**。
  - **AI诊断报告 (文本):** 自动生成分析短文，如：`"当前全县85%作物长势良好。其中，南部区域因光照充足，长势普遍优于北部；白马乡有约200亩地块NDVI值连续两周下降，已发出长势异常预警，需重点关注。"`

**备选C: 主导产业供需预测**
- **定位:** 替代原有的"产量产值总览"。
- **内容:** 聚焦本县1-2个核心主导产业（如水稻）。
  - **供需预测曲线:** 一个双轴折线图，同时展示未来3个月内该品种的`预测产量曲线`和`预测市场需求曲线`。
  - **AI决策建议 (文本):** `"模型预测未来2个月内，水稻市场将呈现供过于求的态势。建议引导合作社、农户分批次销售，或拓展加工、仓储渠道，避免集中上市导致价格下跌。"`

**备选D: 农机资源调度热力图**
- **定位:** 运营管理型图表。
- **内容:** 一张小型行政区划地图，用热力图方式实时渲染大型农机（已接入平台）的**空间分布密度与闲置率**，颜色越深表示资源越集中或闲置率越高，辅助跨区调度。

**右侧聚焦分析面板 (地块/主体视角)**

**交互:** 默认状态下隐藏或提示"请在地图上选择一个地块"。用户点击任一地块后，此面板滑出并加载专属于该地块的微观数据。

**面板标题:** `地块专属分析报告: [地块名称]`

**【面板内组件备选库】**

**组件A: 地块健康诊断报告**
- **定位:** 核心诊断模块，替代所有抽象"评分"。
- **内容:** 以清单体检报告的形式呈现，清晰直观。
  - `土壤有机质: 2.5% (标准)`
  - `土壤速效氮: 85 mg/kg` <span style="color:orange">(偏低)</span>
  - `土壤湿度: 65% (适宜)`
  - `作物苗齐度: 95% (优)`
  - **AI诊断结论 (文本):** `"该地块地力基础良好，但存在缺氮现象，已影响叶绿素合成。预测若不干预，将在10-15日后导致叶片发黄，并可能造成约5%-8%的产量损失。建议在5日内追施尿素..."`

**组件B: 地块风险与产量预测**
- **定位:** 提供针对性的未来预测。
- **内容:**
  - **未来7日病害风险:** `稻瘟病 (中风险, 45%)`, `纹枯病 (低风险, 15%)`
  - **未来15日旱情风险:** `无明显风险`
  - **当季产量预测:** `650 公斤/亩` <span style="color:lime">(较全县同类作物平均水平高8%)</span>

**组件C: 地块历史数据回溯**
- **定位:** 提供数据追溯能力。
- **内容:** 多个小型折线图，分别展示该地块过去1年内`NDVI指数`、`土壤湿度`、`土壤温度`等关键指标的历史变化曲线。

---

### 3.2 数据资源中心

> (此模块需求保持 V2.0 不变)

---

### 3.3 智能分析决策

> **[页面目标]** 对每个分析场景进行深度设计，明确输入、处理逻辑和输出结果，使其成为可独立演示和开发的完整功能。

#### 3.3.1 墒情监测与旱情分析
- **[页面目标]** 直观展示全县旱情分布，并能对任意地块进行深度历史数据追溯。
- **[筛选器]** `时间范围选择器` (快捷选项：近7天/近30天), `乡镇多选下拉框`。
- **[核心可视化布局]** 顶部为筛选器，中部是GIS地图，底部为数据图表区。
- **[具体组件描述]**
  - **GIS地图:** 地块根据土壤相对湿度分为5级渲染：`过湿(>85%)`-深蓝, `适宜(60-85%)`-绿色, `轻旱(40-60%)`-黄色, `中旱(20-40%)`-橙色, `重旱(<20%)`-红色。地图右下角必须有此图例说明。
  - **数据图表:** 默认显示全县各乡镇的平均土壤湿度柱状图。点击地图上任一地块后，此区域切换为该地块的"近30天土壤湿度变化"折线图，并标注出最高/最低值。

#### 3.3.2 作物长势遥感监测
- **[页面目标]** 通过遥感NDVI数据评估作物长势，并提供地块间的横向对比分析能力。
- **[筛选器]** `时间点选择器` (展示不同日期的遥感影像数据), `乡镇`, `作物类型`。
- **[核心可视化布局]** 页面分为左右两栏。左侧为GIS地图，右侧为数据分析区。
- **[具体组件描述]**
  - **GIS地图:** 地块根据NDVI值分为4级渲染：`优(>0.8)`-深绿, `良(0.6-0.8)`-绿色, `中(0.4-0.6)`-黄绿, `差(<0.4)`-黄色。用户可以点击地图上的"对比"按钮，然后选择最多4个地块。
  - **数据分析区:** 标题为"长势对比分析"。每当在地图上选择一个地块，就在此区域动态添加一个卡片。卡片内包含地块名称和一个mini折线图，展示该地块近3个季度的NDVI均值变化。

#### 3.3.3 土地用途分析
- **[页面目标]** 清晰地可视化全县土地资源的利用现状，并支持历史追溯，为国土规划和耕地保护提供数据依据。
- **[筛选器]** `年份选择器` (如 2025, 2020, 2015), `乡镇`。
- **[核心可视化布局]** 页面分为左右两栏，左侧为GIS地图，右侧为统计图表。
- **[具体组件描述]**
  - **GIS地图:** 根据地块的 `use_type` 属性进行颜色渲染。图例需明确：`耕地`-绿色, `林地`-深绿, `草地`-浅绿, `建设用地`-灰色, `水域`-蓝色。
  - **右侧统计面板:**
    - **面板1: 土地利用结构:** 一个ECharts玫瑰图，展示当前筛选条件下，各类土地用途的面积占比。
    - **面板2: 耕地变化趋势:** 一个ECharts分组柱状图，标题为"耕地面积变化"，X轴为乡镇名称，Y轴为面积（亩），对比展示当前年份与所选对比年份（如2015年）的耕地面积。

#### 3.3.4 耕地退化分析
- **[页面目标]** 识别存在退化风险的耕地，分析退化成因，为土壤改良和可持续耕作提供精准指导。
- **[筛选器]** `分析模型下拉框` (选项: 土壤酸化, 养分流失, 土壤盐碱化), `年份`。
- **[核心可视化布局]** 以GIS地图为核心，辅以数据面板进行量化说明。
- **[具体组件描述]**
  - **GIS地图:** 根据后台计算出的"退化指数"（0-1范围），将耕地地块渲染为不同风险等级的颜色：`高风险(指数>0.7)`-红色, `中风险(0.4-0.7)`-橙色, `低风险(<0.4)`-黄色。
  - **右侧数据面板:**
    - **风险等级统计:** 3个指标卡片，分别显示高、中、低风险的耕地面积及占比。
    - **退化趋势图:** 一个折线图，展示全县近10年的平均"退化指数"变化趋势。
    - **高风险地块列表:** 一个可滚动的列表，展示风险最高的10个地块的ID、所属乡镇和退化指数得分，点击可定位到地图上的对应位置。

#### 3.3.5 病虫害分析与预测
- **[页面目标]** 实时监控病虫害动态，预测扩散趋势，实现从被动响应到主动预警的转变。
- **[筛选器]** `时间范围`, `病虫害类型` (下拉多选: 稻飞虱, 玉米螟, 纹枯病等), `预警等级`。
- **[核心可视化布局]** 动态、时空一体化布局。中间为GIS地图，底部为时间轴，右侧为信息面板。
- **[具体组件描述]**
  - **GIS地图:** 地图上叠加两种图层：1. 已上报的病虫害"事件点"，用不同图标表示。 2. 基于算法预测的"风险圈"，为半透明的渐变色区域，表示未来24/48小时可能的扩散范围。
  - **时间轴:** 一个可拖动的滑块，范围是筛选器选定的时间。拖动滑块，地图上的"事件点"和"风险圈"会随时间动态变化，形成一个时空演变动画。
  - **右侧信息面板:**
    - **当前态势:** 统计`当前主要病害`, `累计影响面积`, `已发布预警数`。
    - **病害发生频率:** 一个条形图，统计所选时间内，不同病虫害的发生次数，进行排序。

#### 3.3.6 产量与产值预测
- **[页面目标]** 整合多源数据，提供对未来产量的科学预测，为农业生产和市场规划提供决策支持。
- **[筛选器]** `年份`, `季度`, `作物类型`。
- **[核心可视化布局]** 类仪表盘布局，顶部为核心预测总览，下方为多维度图表。
- **[具体组件描述]**
  - **核心预测卡片:** 4个大数字卡片，展示 `预估总产量(吨)`, `同比增减(%)`, `预估总产值(万元)`, `环比增减(%)`。
  - **产量分布柱状图:** 按乡镇展示各乡镇的预估产量，并可与去年同期数据进行对比。
  - **预测修正历史:** 一个折线图，展示自播种以来，模型对最终产量的预测值的变化过程，体现模型的动态调整能力。
  - **详细数据表格:** 列出各乡镇的 `种植面积`, `预估亩产(公斤)`, `市场均价(元/公斤)` 等详细数据。

#### 3.3.7 智慧灌溉数字孪生
- **[页面目标]** 以高保真三维场景，全过程模拟和展示一个高标准农田的自动化、智能化灌溉作业，是平台技术实力的终极体现。
- **[筛选器]** 页面加载一个预设的"高标准农田示范区"，无全局筛选器。
- **[核心可视化布局]** 全屏沉浸式3D场景，数据和控制面板以HUD（平视显示器）风格叠加在场景上。
- **[具体组件描述]**
  - **3D场景:** 使用Three.js或类似库构建。包含：地块的微地形、成排的作物三维模型、土壤传感器模型、气象站模型、以及可见的喷灌或滴灌管道和阀门。
  - **HUD面板1: 环境与土壤监测 (左上角)**
    - **环境:** `空气温度`, `空气湿度`, `风速`, `光照强度` 的实时仪表盘。
    - **土壤:** 以网格形式展示该地块内9个分区的土壤湿度实时读数，直观体现土壤墒情的不均匀性。
  - **HUD面板2: 灌溉控制与策略 (右侧)**
    - **模式选择:** `智能决策模式`(算法自动执行), `定时定量模式`, `手动控制模式`。
    - **策略选择 (智能模式下):** `节水优先策略`, `增产优先策略`。
    - **手动控制:** 开关组，可手动控制9个分区的阀门。
    - **执行按钮:** `启动灌溉任务`。
  - **HUD面板3: 成本与能耗分析 (左下角)**
    - 实时累计 `本次用水量(吨)`, `预估水费(元)`, `预估电费(元)`。
  - **动画效果:** 启动灌溉后，3D场景中对应的喷头或管道出现逼真的水流粒子特效，同时HUD面板上的土壤湿度读数和成本数据同步动态增长。

---

### 3.4 农户管理

> **[页面目标]** 建立一个集中的农业主体资源管理中心，对农户档案、关联土地、自有农机和农资使用进行全生命周期管理。

#### 3.4.1 主页面：农户列表
- **布局:** 占据整个页面的数据面板。
- **功能区:**
  - **搜索框:** 支持按 `姓名` 或 `联系电话` 模糊搜索。
  - **筛选器:** 按 `所属乡镇` 进行下拉筛选。
  - **操作按钮:** "新增农户" 按钮，样式醒目。
- **表格字段:** `农户ID`, `姓名`, `联系电话`, `所属乡镇`, `地块数量`, `农机数量`, `最后更新时间`, `操作`(`查看详情`, `编辑`, `删除`)。

#### 3.4.2 新增/编辑农户
- **交互:** 点击 "新增农户" 或 "编辑" 按钮，弹出一个 `el-dialog` 模态框。
- **表单字段:** `姓名`, `联系电话`, `身份证号`, `所属乡镇`(下拉), `家庭住址`, `备注`(文本域)。

#### 3.4.3 农户详情页 (`/farmer-management/:id`)
- **页面目标:** 360度全景展示与该农户相关的所有农业资源。
- **布局:** 顶部为该农户的"名片"（姓名、电话、乡镇），下方为一个 `el-tabs` 标签页组件。
- **标签页 (Tabs):**
  - **Tab 1: 关联地块:**
    - **功能:** 一个数据表格，显示该农户拥有的所有地块。
    - **表格字段:** `地块ID`, `地块名称`, `作物`, `面积(亩)`, `地力指数`。
    - **操作:** 提供"关联新地块"按钮，可打开一个包含全县未分配地块列表的模态框供选择。
  - **Tab 2: 农机管理:**
    - **功能:** 管理该农户拥有的所有农业机械。
    - **表格字段:** `农机ID`, `类型`(拖拉机/收割机/无人机), `品牌型号`, `购买日期`, `状态`(正常/维修中/报废), `最后作业时间`。
    - **操作:** 提供"新增农机"按钮。
  - **Tab 3: 农资使用记录:**
    - **功能:** 记录该农户的农药、化肥等农资的采购和使用情况。
    - **表格字段:** `使用日期`, `农资类型`, `品牌规格`, `用量`, `使用地块`, `操作员`。
  - **Tab 4: 收益分析:**
    - **功能:** 展示该农户的年度收益情况和成本分析。
    - **内容:** 包含收入构成饼图、月度收支对比柱状图等可视化组件。

---

### 3.5 系统管理

> **[页面目标]** 提供平台的基础配置管理功能，确保系统的稳定运行和数据安全。

#### 3.5.1 用户管理
- **功能:** 管理平台用户账户，包括用户的创建、编辑、禁用等操作。
- **权限控制:** 不同用户角色（管理员、分析员、操作员）具有不同的功能访问权限。
- **表格字段:** `用户ID`, `用户名`, `真实姓名`, `角色`, `所属部门`, `最后登录时间`, `状态`, `操作`。

#### 3.5.2 数据源管理
- **功能:** 配置和管理各类数据源的接入参数。
- **支持的数据源类型:** 
  - 气象数据API
  - 遥感影像服务
  - 物联网设备数据
  - 第三方农业数据平台
- **配置项:** `数据源名称`, `类型`, `接入地址`, `认证信息`, `更新频率`, `状态`。

#### 3.5.3 系统日志
- **功能:** 记录系统的运行日志和用户操作日志，便于问题排查和安全审计。
- **日志类型:**
  - 登录日志
  - 操作日志  
  - 错误日志
  - 系统运行日志
- **查询功能:** 支持按时间范围、用户、操作类型等条件进行日志查询和导出。

#### 3.5.4 系统配置
- **功能:** 管理系统的基础配置参数。
- **配置项:**
  - 系统基础信息（系统名称、版本信息等）
  - 地图配置（默认中心点、缩放级别等）
  - 预警阈值配置
  - 数据更新频率设置
  - 消息通知配置

---

## 4. 技术实现要点

### 4.1 前端架构
- **推荐框架:** Vue 3 + Element Plus 或 React + Ant Design
- **状态管理:** Vuex/Pinia 或 Redux Toolkit
- **路由管理:** Vue Router 或 React Router
- **图表库:** ECharts 5.x
- **地图库:** MapLibre GL JS 或 Leaflet
- **3D渲染:** Three.js（智慧灌溉模块）

### 4.2 数据结构设计
- **地块数据:** GeoJSON格式，包含几何信息和属性信息
- **设备数据:** JSON格式，包含位置、状态、类型等信息
- **历史数据:** 时间序列数据，支持按时间范围查询
- **用户数据:** 包含用户基础信息、权限配置等

### 4.3 性能优化策略
- **数据懒加载:** 大数据集按需加载，避免首屏阻塞
- **图片优化:** 使用WebP格式，实现响应式图片
- **缓存策略:** 静态资源缓存，API数据缓存
- **虚拟滚动:** 长列表使用虚拟滚动技术
- **代码分割:** 按路由和功能模块进行代码分割

### 4.4 兼容性要求
- **浏览器支持:** Chrome 90+, Firefox 88+, Safari 14+, Edge 90+
- **分辨率支持:** 1920x1080 及以上分辨率优化显示
- **移动端适配:** 响应式设计，支持平板设备访问

---

## 5. 项目交付物

### 5.1 代码交付
- **源代码:** 完整的前端项目源代码
- **构建脚本:** 包含开发、测试、生产环境的构建配置
- **依赖清单:** package.json 及锁定文件
- **环境配置:** 开发和部署环境的配置文件

### 5.2 文档交付
- **技术文档:** 系统架构、API接口、部署指南
- **用户手册:** 功能操作说明和最佳实践
- **维护文档:** 常见问题解决方案和维护指南

### 5.3 测试交付
- **单元测试:** 核心业务逻辑的单元测试用例
- **集成测试:** 主要功能流程的集成测试
- **性能测试报告:** 系统性能指标和优化建议

---

## 6. 项目里程碑

### Phase 1: 基础框架搭建 (1-2周)
- 项目框架初始化
- 基础UI组件库集成
- 路由和状态管理配置
- 顶部导航栏实现

### Phase 2: 核心功能开发 (3-5周)
- 综合态势大屏开发
- GIS地图集成和基础功能
- 数据可视化组件开发
- 基础数据模拟和接口

### Phase 3: 分析功能开发 (2-3周)
- 智能分析各子模块开发
- 高级图表和交互功能
- 3D场景开发（智慧灌溉）
- 数据联动和状态同步

### Phase 4: 管理功能开发 (1-2周)
- 农户管理模块
- 系统管理功能
- 用户权限和安全
- 数据导入导出

### Phase 5: 测试优化 (1-2周)
- 功能测试和bug修复
- 性能优化和兼容性测试
- UI/UX优化和视觉效果调整
- 文档编写和项目交付

---

## 7. 风险评估与应对

### 7.1 技术风险
- **风险:** 3D场景渲染性能问题
- **应对:** 提前进行性能测试，准备降级方案

### 7.2 数据风险  
- **风险:** 模拟数据不够真实
- **应对:** 基于真实场景设计数据结构，确保演示效果

### 7.3 兼容性风险
- **风险:** 不同浏览器表现不一致
- **应对:** 制定明确的兼容性标准，进行充分测试

### 7.4 项目进度风险
- **风险:** 功能复杂度超出预期
- **应对:** 采用敏捷开发模式，优先实现核心功能

---

*文档版本: V2.1 - 重构版*  
*最后更新: 2025-08-29*  
*更新内容: 综合态势大屏深度重构，新增组件化设计思路*